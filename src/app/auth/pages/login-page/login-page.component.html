<ion-content>

  <ion-icon name="close-outline" size="large" (click)="cancel()"/>

  <div class="form">

    <div class="inputs">
      @if (formContent === 'login') {
        <h1>Iniciar sesión</h1>

        <form [formGroup]="loginForm" (ngSubmit)="login()">
          <ion-input
            id="userName"
            formControlName="userName"
            errorText="El campo no puede ser vacío"
            label="Nombre de usuario"
            label-placement="floating"
            fill="outline"
            placeholder="Nombre de usuario"/>

          <ion-input
            id="password"
            formControlName="password"
            errorText="El campo no puede ser vacío"
            label="Contraseña"
            type="password"
            label-placement="floating"
            fill="outline"
            placeholder="Introducir contraseña">

            <ion-button fill="clear" slot="end" aria-label="Show/hide">
              <ion-icon slot="icon-only" name="eye" aria-hidden="true"></ion-icon>
            </ion-button>

          </ion-input>

          <p class="error-message">{{ errorMessage | titlecase }}</p>

          <div class="user-options">
            <ion-button type="submit">Iniciar Sesión</ion-button>
            <p>¿No tienes una cuenta?<strong (click)="toggleFormContent()" > Registrate</strong></p>
          </div>
        </form>

      } @else {

        <h1>Registrate</h1>

        <form [formGroup]="registerForm" (ngSubmit)="registerAccount()">

          <ion-input
            id="userName"
            type="text"
            formControlName="userName"
            errorText="Debes introducir un nombre de usuario"
            label="Nombre de usuario"
            label-placement="floating"
            fill="outline"
            placeholder="Nombre de usuario"/>

          <ion-input
            id="email"
            formControlName="email"
            errorText="Debes introducir un email valido"
            label="Correo electronico"
            label-placement="floating"
            fill="outline"
            placeholder="example@gmail.com"/>

          <ion-input
            id="password"
            formControlName="password"
            label="Contraseña"
            type="password"
            label-placement="floating"
            fill="outline"
            placeholder="Introducir contraseña">

            <ion-button fill="clear" slot="end" aria-label="Show/hide">
              <ion-icon slot="icon-only" name="eye" aria-hidden="true"></ion-icon>
            </ion-button>

          </ion-input>

          <ion-input
            id="password2"
            formControlName="password2"
            label="Confirmar contraseña"
            type="password"
            label-placement="floating"
            fill="outline"
            placeholder="Repite la contraseña">

            <ion-button fill="clear" slot="end" aria-label="Show/hide">
              <ion-icon slot="icon-only" name="eye" aria-hidden="true"></ion-icon>
            </ion-button>

          </ion-input>

          <p class="error-message">{{ errorMessage }}</p>

          <div class="user-options">
            <ion-button type="submit">Registrarse</ion-button>
            <p>¿Ya tienes una cuenta?<strong (click)="toggleFormContent()" > Inicia sesión</strong></p>
          </div>
        </form>
      }
    </div>
  </div>

</ion-content>
